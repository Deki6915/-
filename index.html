<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>ğŸ‚ğŸ‚ğŸ‚ğŸ‚ğŸ‚ğŸ‚</title>
    <style>
      html,
      body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        position: fixed;
        width: 100%;
        height: 100%;
        touch-action: none;
        -webkit-overflow-scrolling: none;
        overscroll-behavior: none;
      }

      body {
        background: black;
        font-family: "Arial", sans-serif;
        perspective: 1000px;
        perspective-origin: center center;
        transform-style: preserve-3d;
        transition: transform 0.1s ease-out;
      }

      .container {
        width: 100vw;
        height: 100vh;
        position: relative;
        transform-style: preserve-3d;
        transition: transform 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        transform: rotateY(20deg);
      }

      .falling-layer {
        position: absolute;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
      }

      .stars-container {
        position: fixed;
        width: 100vw;
        height: 100vh;
        top: 0;
        left: 0;
        z-index: 1;
        transform-style: preserve-3d;
      }

      .star-layer {
        position: absolute;
        width: 100%;
        height: 100%;
        transform-style: preserve-3d;
      }

      .message {
        position: absolute;
        color: yellow;
        font-size: clamp(20px, 5vw, 35px);
        text-shadow: 0 0 10px yellow, 0 0 20px yellow;
        white-space: nowrap;
        animation: fallText linear infinite;
        transform-style: preserve-3d;
        z-index: 2;
      }

      .star {
        position: absolute;
        background: white;
        border-radius: 50%;
        animation: twinkle linear infinite;
        z-index: 1;
      }

      .copyright {
        position: fixed;
        bottom: 10px;
        right: 10px;
        color: rgba(255, 255, 255, 0.078);
        font-size: clamp(8px, 2vw, 12px);
        font-family: "Arial", sans-serif;
        z-index: 1000;
        pointer-events: none;
        text-shadow: 0 0 5px rgba(255, 255, 255, 0.03);
      }

      .heart {
        position: absolute;
        z-index: 2;
        pointer-events: none;
        animation: fallHeart linear infinite;
        /* Hiá»‡u á»©ng bÃ³ng cho Ä‘áº¹p */
        filter: drop-shadow(0 0 8px #d4f24d);
      }

      @keyframes fallText {
        0% {
          transform: translateY(-100px) translateZ(0);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) translateZ(0);
          opacity: 0;
        }
      }

      @keyframes twinkle {
        0%,
        100% {
          opacity: 0;
          transform: scale(0.5);
        }
        50% {
          opacity: 1;
          transform: scale(1);
        }
      }

      @keyframes fallHeart {
        0% {
          transform: translateY(-100px) rotateY(0deg) translateZ(0);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotateY(360deg) translateZ(0);
          opacity: 0;
        }
      }

      /* Media Queries */
      @media screen and (max-width: 768px) {
        .container {
          transform: rotateY(10deg);
        }

        .message {
          font-size: clamp(16px, 4vw, 25px);
        }
      }

      @media screen and (max-width: 480px) {
        .container {
          transform: rotateY(5deg);
        }

        .message {
          font-size: clamp(14px, 3.5vw, 20px);
        }
      }
    </style>
  </head>
  <body>
    <audio id="bgMusic" loop>
      <source src="music.mp3" type="audio/mpeg" />
      Your browser does not support the audio element.
    </audio>

    <div class="stars-container">
      <div class="star-layer" style="transform: translateZ(-1000px)"></div>
      <div class="star-layer" style="transform: translateZ(0px)"></div>
      <div class="star-layer" style="transform: translateZ(1000px)"></div>
    </div>
    <div class="container">
      <div class="falling-layer" style="transform: translateZ(-1000px)"></div>
      <div class="falling-layer" style="transform: translateZ(-500px)"></div>
      <div class="falling-layer" style="transform: translateZ(0px)"></div>
      <div class="falling-layer" style="transform: translateZ(500px)"></div>
      <div class="falling-layer" style="transform: translateZ(1000px)"></div>
    </div>
    <div class="copyright">Longdev@2025</div>

    <script>
      // Táº¡o nhiá»u dÃ²ng chá»¯ vá»›i cÃ¡c tin nháº¯n khÃ¡c nhau
      const messages = [
        "Happy Birthday",
        "Joyeux anniversaire",
        "ChÃºc má»«ng sinh nháº­t",
        "Alles Gute zum Geburtstag",
        "Feliz cumpleaÃ±os",
        "Feliz aniversÃ¡rio",
        "Happy Birthday",
        "Buon compleanno",
        "ChÃºc má»«ng sinh nháº­t",
        "ç”Ÿæ—¥å¿«ä¹",
        "ãŠèª•ç”Ÿæ—¥ãŠã‚ã§ã¨ã†",
        "Happy Birthday",
        "ìƒì¼ ì¶•í•˜í•´ìš”",
        "Ğ¡ Ğ´Ğ½Ñ‘Ğ¼ Ñ€Ğ¾Ğ¶Ğ´ĞµĞ½Ğ¸Ñ!",
        "Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ Ø³Ø¹ÙŠØ¯",
        "Happy Birthday",
        "à¤œà¤¨à¥à¤®à¤¦à¤¿à¤¨ à¤®à¥à¤¬à¤¾à¤°à¤• à¤¹à¥‹",
        "à¸ªà¸¸à¸‚à¸ªà¸±à¸™à¸•à¹Œà¸§à¸±à¸™à¹€à¸à¸´à¸”",
        "ChÃºc má»«ng sinh nháº­t",
        "Happy Birthday",
        "Selamat ulang tahun",
        "DoÄŸum gÃ¼nÃ¼n kutlu olsun",
        "ChÃºc má»«ng sinh nháº­t",
        "Gefeliciteerd met je verjaardag",
        "Wszystkiego najlepszego z okazji urodzin",
        "Î§ÏÏŒÎ½Î¹Î± Ï€Î¿Î»Î»Î¬",
        "×™×•× ×”×•×œ×“×ª ×©××—",
        "ChÃºc má»«ng sinh nháº­t",
      ];

      const container = document.querySelector(".container");
      const layers = document.querySelectorAll(".falling-layer");

      function createMessage(layer) {
        const msg = document.createElement("div");
        msg.className = "message";
        msg.style.left = Math.random() * window.innerWidth + "px";
        msg.style.top = Math.random() * window.innerHeight + "px";

        // Tá»‘c Ä‘á»™ rÆ¡i khÃ¡c nhau cho má»—i lá»›p
        const layerDepth = parseInt(
          layer.style.transform.match(/translateZ\(([-\d]+)px\)/)[1]
        );
        const speedMultiplier = 1 + Math.abs(layerDepth) / 2000; // Tá»‘c Ä‘á»™ tÄƒng theo Ä‘á»™ sÃ¢u
        msg.style.animationDuration =
          (9 + Math.random() * 9) * speedMultiplier + "s";

        // KÃ­ch thÆ°á»›c khÃ¡c nhau cho má»—i lá»›p
        const sizeMultiplier = 1 - Math.abs(layerDepth) / 2000; // KÃ­ch thÆ°á»›c giáº£m theo Ä‘á»™ sÃ¢u
        msg.style.fontSize = 35 * sizeMultiplier + "px";

        msg.innerText = messages[Math.floor(Math.random() * messages.length)];
        msg.addEventListener("animationend", function () {
          msg.remove();
          createMessage(layer);
        });
        layer.appendChild(msg);
      }

      // ThÃªm code xá»­ lÃ½ audio
      const bgMusic = document.getElementById("bgMusic");

      // HÃ m Ä‘á»ƒ báº¯t Ä‘áº§u phÃ¡t nháº¡c
      function playMusic() {
        bgMusic.play().catch(function (error) {
          console.log("Audio playback failed:", error);
        });
      }

      // ThÃªm sá»± kiá»‡n click Ä‘á»ƒ báº¯t Ä‘áº§u phÃ¡t nháº¡c
      document.addEventListener(
        "click",
        function () {
          playMusic();
        },
        { once: true }
      );

      // ThÃªm sá»± kiá»‡n touch Ä‘á»ƒ báº¯t Ä‘áº§u phÃ¡t nháº¡c trÃªn mobile
      document.addEventListener(
        "touchstart",
        function () {
          playMusic();
        },
        { once: true }
      );

      // Äiá»u chá»‰nh sá»‘ lÆ°á»£ng pháº§n tá»­ dá»±a trÃªn kÃ­ch thÆ°á»›c mÃ n hÃ¬nh
      function getElementCount(layerDepth) {
        const screenWidth = window.innerWidth;
        let baseCount = 15 + Math.abs(layerDepth) / 200;

        if (screenWidth <= 480) {
          baseCount = Math.floor(baseCount * 0.5);
        } else if (screenWidth <= 768) {
          baseCount = Math.floor(baseCount * 0.7);
        }

        return Math.floor(baseCount);
      }

      // Cáº­p nháº­t hÃ m createMessage Ä‘á»ƒ sá»­ dá»¥ng getElementCount
      layers.forEach((layer) => {
        const layerDepth = parseInt(
          layer.style.transform.match(/translateZ\(([-\d]+)px\)/)[1]
        );
        const elementCount = getElementCount(layerDepth);
        for (let i = 0; i < elementCount; i++) {
          createMessage(layer);
        }
      });

      // Táº¡o hiá»‡u á»©ng sao láº¥p lÃ¡nh
      function createStars() {
        const starLayers = document.querySelectorAll(".star-layer");

        starLayers.forEach((layer) => {
          const layerDepth = parseInt(
            layer.style.transform.match(/translateZ\(([-\d]+)px\)/)[1]
          );
          // Lá»›p cÃ ng xa thÃ¬ cÃ ng nhiá»u sao
          const starCount = Math.floor(200 + Math.abs(layerDepth) / 10);

          for (let i = 0; i < starCount; i++) {
            const star = document.createElement("div");
            star.className = "star";
            star.style.left = Math.random() * window.innerWidth + "px";
            star.style.top = Math.random() * window.innerHeight + "px";

            // KÃ­ch thÆ°á»›c sao khÃ¡c nhau cho má»—i lá»›p
            const sizeMultiplier = 1 - Math.abs(layerDepth) / 2000;
            const size = (1 + Math.random() * 2) * sizeMultiplier;
            star.style.width = size + "px";
            star.style.height = size + "px";

            // Tá»‘c Ä‘á»™ nháº¥p nhÃ¡y khÃ¡c nhau cho má»—i lá»›p
            const speedMultiplier = 1 + Math.abs(layerDepth) / 2000;
            star.style.animationDuration =
              (1 + Math.random() * 2) * speedMultiplier + "s";
            star.style.animationDelay = Math.random() * 2 + "s";

            layer.appendChild(star);
          }
        });
      }

      createStars();

      // ThÃªm chá»©c nÄƒng xoay khi cháº¡m
      let startX = 0;
      let currentRotation = 0;
      const body = document.body;

      // Xá»­ lÃ½ sá»± kiá»‡n touch
      document.addEventListener("touchstart", (e) => {
        startX = e.touches[0].clientX;
      });

      document.addEventListener("touchmove", (e) => {
        e.preventDefault();
        const currentX = e.touches[0].clientX;
        const diff = currentX - startX;

        // TÃ­nh toÃ¡n gÃ³c xoay (má»—i 10px di chuyá»ƒn = 1 Ä‘á»™ xoay)
        currentRotation += diff * 0.1;

        // Giá»›i háº¡n gÃ³c xoay trong khoáº£ng -45 Ä‘áº¿n 45 Ä‘á»™
        currentRotation = Math.max(-45, Math.min(45, currentRotation));

        // Ãp dá»¥ng xoay
        container.style.transform = `rotateY(${currentRotation}deg)`;

        startX = currentX;
      });

      // Xá»­ lÃ½ sá»± kiá»‡n mouse
      let isMouseDown = false;
      let lastMouseX = 0;

      document.addEventListener("mousedown", (e) => {
        isMouseDown = true;
        lastMouseX = e.clientX;
      });

      document.addEventListener("mousemove", (e) => {
        if (!isMouseDown) return;

        const currentX = e.clientX;
        const diff = currentX - lastMouseX;

        // TÃ­nh toÃ¡n gÃ³c xoay (má»—i 10px di chuyá»ƒn = 1 Ä‘á»™ xoay)
        currentRotation += diff * 0.1;

        // Giá»›i háº¡n gÃ³c xoay trong khoáº£ng -45 Ä‘áº¿n 45 Ä‘á»™
        currentRotation = Math.max(-45, Math.min(45, currentRotation));

        // Ãp dá»¥ng xoay
        container.style.transform = `rotateY(${currentRotation}deg)`;

        lastMouseX = currentX;
      });

      document.addEventListener("mouseup", () => {
        isMouseDown = false;
      });

      document.addEventListener("mouseleave", () => {
        isMouseDown = false;
      });

      function createHeart(layer) {
        const heart = document.createElementNS(
          "http://www.w3.org/2000/svg",
          "svg"
        );
        heart.setAttribute("viewBox", "0 0 32 29.6");
        heart.classList.add("heart");
        heart.style.left = Math.random() * window.innerWidth + "px";
        heart.style.top = Math.random() * window.innerHeight + "px";

        // Tá»‘c Ä‘á»™ rÆ¡i khÃ¡c nhau cho má»—i lá»›p
        const layerDepth = parseInt(
          layer.style.transform.match(/translateZ\(([-\d]+)px\)/)[1]
        );
        const speedMultiplier = 1 + Math.abs(layerDepth) / 2000;
        const duration = (9 + Math.random() * 9) * speedMultiplier;
        heart.style.animationDuration = duration + "s";

        // KÃ­ch thÆ°á»›c khÃ¡c nhau cho má»—i lá»›p
        const sizeMultiplier = 1 - Math.abs(layerDepth) / 2000;
        const size = 32 * sizeMultiplier;
        heart.setAttribute("width", size);
        heart.setAttribute("height", size * 0.925);

        heart.innerHTML = `<path d="M12 2.5l2.93 5.93 6.57.96-4.75 4.63 1.12 6.53L12 17.77l-5.87 3.08 1.12-6.53L2.5 9.39l6.57-.96L12 2.5z" fill="yellow"/>`;
        heart.addEventListener("animationend", function () {
          heart.remove();
          createHeart(layer);
        });
        layer.appendChild(heart);
      }

      // Cáº­p nháº­t hÃ m createHeart Ä‘á»ƒ sá»­ dá»¥ng getElementCount
      layers.forEach((layer) => {
        const layerDepth = parseInt(
          layer.style.transform.match(/translateZ\(([-\d]+)px\)/)[1]
        );
        const elementCount = getElementCount(layerDepth);
        for (let i = 0; i < elementCount; i++) {
          createHeart(layer);
        }
      });

      // ThÃªm code Ä‘á»ƒ ngÄƒn cháº·n scroll
      document.addEventListener(
        "touchmove",
        function (e) {
          e.preventDefault();
        },
        { passive: false }
      );

      document.addEventListener(
        "wheel",
        function (e) {
          e.preventDefault();
        },
        { passive: false }
      );

      // NgÄƒn cháº·n scroll khi kÃ©o tháº£
      document.addEventListener("dragstart", function (e) {
        e.preventDefault();
      });

      // NgÄƒn cháº·n scroll khi double tap trÃªn mobile
      document.addEventListener("dblclick", function (e) {
        e.preventDefault();
      });
    </script>
  </body>
</html>
